{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAKA,MAAMC,EAA2BC,SAASC,cAAc,kBAClDC,EAAmBC,KAAKC,MAAMC,aAAaC,QAAQ,YAIzD,IAAIC,EAAS,GA6CbC,eAAeC,EAAgBC,GAC3B,IACA,MAAMC,KAACA,SAAcd,EAAAe,QAAMC,IAAI,sCAAcH,6DAC3C,OAAOC,C,CACP,MAAOG,GACPC,QAAQC,IAAIF,E,GAhDlBN,iBACI,IAAI,MAAMS,KAAUf,EAAiB,CACjC,MAAMgB,QAAoBT,EAAgBQ,GAE1C,IAAIE,EAAUC,OAAOC,SAASH,EAAYI,cAAgBJ,EAAYK,gBACtE,MAAMC,EAAa,kCAAkCN,EAAYO,cAC3DC,EAAa,2GAEnB,IAAIC,EAAc,GAClBC,EAAAC,OAAOC,SAAQC,IACTb,EAAYW,OAAOG,SAASD,EAAME,KACpCN,EAAYO,KAAKH,EAAMI,KAAK,IAIhC5B,GAAU,oDACOW,EAAYe,uKAIPf,EAAYO,YAAcD,EAAaE,kCACxCR,EAAYkB,yKAIMlB,EAAYkB,2FAERT,EAAYU,KAAK,WAAWlB,qEACtBD,EAAYoB,aAAaC,QAAQ,iHAK1ExB,QAAQC,IAAIT,GACZQ,QAAQC,IAAIE,GACdnB,EAAyByC,mBAAmB,YAAYjC,E,EAKtEkC","sources":["src/js/my-library.js"],"sourcesContent":["import axios from \"axios\";\nimport { genres } from './genres';\n\n// import { showPreloader, hidePreloader } from './loader';\n// https://api.themoviedb.org/3/movie/{movie_id}?api_key=<<api_key>>&language=en-US\nconst containerListWatchedCard = document.querySelector('.film-list-lib')\nconst dataWatchedCards = JSON.parse(localStorage.getItem('wathced'))\n\nconst BASE_URL = 'https://api.themoviedb.org/3/movie/';\nconst API_KEY = '352708f90836dd2b75b209ae082e91df'\nlet markup = '';\n\nasync function onCardWatch(){\n    for(const idFilm of dataWatchedCards){\n        const oneFilmCard = await getWatchedFilms(idFilm)\n\n        let release = Number.parseInt(oneFilmCard.release_date || oneFilmCard.first_air_date);\n        const mainPoster = `https://image.tmdb.org/t/p/w300${oneFilmCard.poster_path}`;\n        const posterFake = `https://shop-cdn1.vigbo.tech/shops/48947/products/18863233/images/2-be392e7cfe9a0fa843b29c1e22be8909.jpg`;\n  \n        let genreMarkup = [];\n        genres.forEach(genre => {\n          if (oneFilmCard.genres.includes(genre.id)) {\n            genreMarkup.push(genre.name);\n          }\n        });\n  \n        markup += ` <li class =\"film-item\">\n                <a id='${oneFilmCard.id}' class=\"film-card\" href=\"#\">\n                  <div class='thumb'>\n                  <img\n                      class = 'poster'\n                      src= \"${oneFilmCard.poster_path ? mainPoster : posterFake}\"\n                      alt=\"${oneFilmCard.title}\"\n                      loading=\"lazy\"\n                    /></div>\n                    <div class='film-data'>\n                      <h2 class=\"title-film\">${oneFilmCard.title}</h2>\n                      <p>\n                         <span class='info-film'>${genreMarkup.join(', ')} | ${release}</span> \n                        <span class =\"rating\">IMDB:<br>${oneFilmCard.vote_average.toFixed(1)}</span>\n                      </p>\n                    </div>\n                  </a>\n              </li>`;\n                console.log(markup)\n                console.log(oneFilmCard)\n              containerListWatchedCard.insertAdjacentHTML('beforeend',markup)\n    }\n    \n    \n}\nonCardWatch()\n\n\nasync function getWatchedFilms(page) {\n    try {\n    const {data} = await axios.get(`${BASE_URL}${page}?api_key=${API_KEY}&language=en-US`)\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n// async function getWatchedFilms(idFilm) {\n//     try {\n      \n//         console.log(data)\n     \n//   containerListWatchedCard.insertAdjacentHTML('beforeend',markup)\n\n//         // console.log(markup)\n//     } catch (error) {\n//       console.log(error);\n//     }\n//   }\n"],"names":["$2shzp","parcelRequire","$085d2f9f3e302aeb$var$containerListWatchedCard","document","querySelector","$085d2f9f3e302aeb$var$dataWatchedCards","JSON","parse","localStorage","getItem","$085d2f9f3e302aeb$var$markup","async","$085d2f9f3e302aeb$var$getWatchedFilms","page","data","default","get","error","console","log","idFilm","oneFilmCard","release","Number","parseInt","release_date","first_air_date","mainPoster","poster_path","posterFake","genreMarkup","$ezyJp","genres","forEach","genre","includes","id","push","name","title","join","vote_average","toFixed","insertAdjacentHTML","$085d2f9f3e302aeb$var$onCardWatch"],"version":3,"file":"my-library.1e8f0e47.js.map"}