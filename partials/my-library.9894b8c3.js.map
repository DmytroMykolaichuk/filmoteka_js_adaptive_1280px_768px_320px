{"mappings":"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","sources":["src/js/my-library.js","src/js/buttons-my-library.js"],"sourcesContent":["import axios from 'axios';\nimport { click, addDarkClassToHTML } from './theme';\nimport { gsap } from 'gsap';\nimport {\n  funcAnimeLogo,\n  funcAnimeHeart,\n  funcAnimeHaederLib,\n} from './SVG-animation';\nimport {\n  onClickWatchedBtn,\n  onClickQueueBtn,\n  onClickClearAll,\n} from './buttons-my-library';\nimport { clickOnFilmCard } from './film-modal';\nimport { getVideoInfo, playVideoTrailer } from './trailer';\nimport { showPreloader, hidePreloader } from './loader';\nimport { openTeamModal } from './team-modal';\n\nconst darkWrapper = document.querySelector('.empty-wrapper-dark')\nconst wraperMyLib = document.querySelector('.empty-wrapper');\nconst containerListWatchedCard = document.querySelector('.film-list');\nconst dataWatchedCards = JSON.parse(localStorage.getItem('watched')) || [];\nconst dataQueueCards = JSON.parse(localStorage.getItem('queue')) || [];\nconst BASE_URL = 'https://api.themoviedb.org/3/movie/';\nconst API_KEY = '352708f90836dd2b75b209ae082e91df';\n\n// const queueButton = document.getElementById('queue');\nhidePreloader();\n\nexport function statusWraper(nameList) {\n  const test = JSON.parse(localStorage.getItem(`${nameList}`)) || [];\n  // console.log(test);\n  if (!localStorage.getItem(`${nameList}`) || test.length < 1) {\n    if(localStorage.getItem('theme') === 'dark-theme'){\n      darkWrapper.style.display = 'flex';\n      wraperMyLib.style.display = 'none';\n    }else{\n      darkWrapper.style.display = 'none';\n      wraperMyLib.style.display = 'flex';\n    }\n    \n  } else {\n    if(localStorage.getItem('theme') === 'dark-theme'){\n      darkWrapper.style.display = 'none';\n    }else{\n      wraperMyLib.style.display = 'none';\n    }\n    \n  }\n}\n\nasync function getWatchedFilms(page) {\n  try {\n    showPreloader();\n    const { data } = await axios.get(\n      `${BASE_URL}${page}?api_key=${API_KEY}&language=en-US`\n    );\n    hidePreloader();\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nonCardWatch();\n\nexport async function onCardWatch() {\n  showPreloader();\n  containerListWatchedCard.innerHTML = '';\n  statusWraper('watched');\n  let markup = '';\n  for (const idFilm of dataWatchedCards) {\n    const oneFilmCard = await getWatchedFilms(idFilm);\n    let release = Number.parseInt(\n      oneFilmCard.release_date || oneFilmCard.first_air_date\n    );\n    const mainPoster = `https://image.tmdb.org/t/p/w300${oneFilmCard.poster_path}`;\n    const posterFake = `https://shop-cdn1.vigbo.tech/shops/48947/products/18863233/images/2-be392e7cfe9a0fa843b29c1e22be8909.jpg`;\n    let genreMarkup = [];\n\n    oneFilmCard.genres.forEach(element => {\n      genreMarkup.push(element.name);\n    });\n\n    markup += ` <li class =\"film-item\">\n                <a id='${oneFilmCard.id}' class=\"film-card\" href=\"#\">\n                  <div class='thumb'>\n                  <img\n                      class = 'poster'\n                      src= \"${\n                        oneFilmCard.poster_path ? mainPoster : posterFake\n                      }\"\n                      alt=\"${oneFilmCard.title}\"\n                      loading=\"lazy\"\n                    /></div>\n                    <div class='film-data'>\n                      <h2 class=\"title-film\">${oneFilmCard.title}</h2>\n                      <p>\n                        <span class='info-film'>${genreMarkup.join(\n                          ', '\n                        )} | ${release}</span>\n                        <span class =\"rating\">IMDB:<br>${oneFilmCard.vote_average.toFixed(\n                          1\n                        )}</span>\n                      </p>\n                    </div>\n                  </a>\n              </li>`;\n  }\n  containerListWatchedCard.insertAdjacentHTML('beforeend', markup);\n  hidePreloader();\n}\n\nexport async function onCardQueue() {\n  showPreloader();\n  containerListWatchedCard.innerHTML = '';\n  statusWraper('queue');\n  let markup = '';\n  for (const idFilm of dataQueueCards) {\n    \n    const oneFilmCard = await getWatchedFilms(idFilm);\n    let release = Number.parseInt(\n      oneFilmCard.release_date || oneFilmCard.first_air_date\n    );\n    const mainPoster = `https://image.tmdb.org/t/p/w300${oneFilmCard.poster_path}`;\n    const posterFake = `https://shop-cdn1.vigbo.tech/shops/48947/products/18863233/images/2-be392e7cfe9a0fa843b29c1e22be8909.jpg`;\n    let genreMarkup = [];\n\n    oneFilmCard.genres.forEach(element => {\n      genreMarkup.push(element.name);\n    });\n\n    markup += ` <li class =\"film-item\">\n              <a id='${oneFilmCard.id}' class=\"film-card\" href=\"#\">\n                <div class='thumb'>\n                <img\n                    class = 'poster'\n                    src= \"${oneFilmCard.poster_path ? mainPoster : posterFake}\"\n                    alt=\"${oneFilmCard.title}\"\n                    loading=\"lazy\"\n                  /></div>\n                  <div class='film-data'>\n                    <h2 class=\"title-film\">${oneFilmCard.title}</h2>\n                    <p>\n                      <span class='info-film'>${genreMarkup.join(\n                        ', '\n                      )} | ${release}</span>\n                      <span class =\"rating\">IMDB:<br>${oneFilmCard.vote_average.toFixed(\n                        1\n                      )}</span>\n                    </p>\n                  </div>\n                </a>\n            </li>`;\n  }\n  containerListWatchedCard.insertAdjacentHTML('beforeend', markup);\n  hidePreloader();\n}\n\n// Scroll to top\nconst button = document.querySelector('.btn-scroll');\n\nconst displayButton = () => {\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 100) {\n      button.style.display = 'block';\n    } else {\n      button.style.display = 'none';\n    }\n  });\n};\n\nconst scrollToTop = () => {\n  button.addEventListener('click', () => {\n    window.scroll({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  });\n};\n\ndisplayButton();\nscrollToTop();\naddDarkClassToHTML();\n","import { onCardWatch, onCardQueue } from \"./my-library\";\n\nconst darkWrapper = document.querySelector('.empty-wrapper-dark')\nconst wraperMyLib = document.querySelector('.empty-wrapper')\nconst queueBtn= document.querySelector('.secondary')\nconst watchedBtn= document.querySelector('.lib-btn.current')\nconst btnClearAll = document.querySelector('.btn-clear-all')\nconst mylibWrapper = document.querySelector('.film-list')\n\nwatchedBtn.addEventListener('click', onClickWatchedBtn)\nqueueBtn.addEventListener('click', onClickQueueBtn)\nbtnClearAll.addEventListener('click', onClickClearAll)\n\n\nexport function onClickWatchedBtn(){\n  if(watchedBtn.classList.contains('current')){return}\n  mylibWrapper.innerHTML=''\n  \n  queueBtn.classList.toggle('current')\n  watchedBtn.classList.toggle('current')\n  \n  onCardWatch()\n  location.replace(location.href)\n}\n\n\nexport function onClickQueueBtn(){\n  if(queueBtn.classList.contains('current')){return}\n  mylibWrapper.innerHTML=''\n\n  queueBtn.classList.toggle('current')\n  watchedBtn.classList.toggle('current')\n\n  onCardQueue()\n  // location.replace(location.href)\n}\n\n\nexport function onClickClearAll() {\n  if(watchedBtn.classList.contains('current')){\n    localStorage.setItem('watched', JSON.stringify([]))\n    mylibWrapper.innerHTML=''\n    if (localStorage.getItem('theme') === 'dark-theme'){\n      darkWrapper.style.display='flex'\n    }else{\n      wraperMyLib.style.display='flex'\n    }\n  return}\n  localStorage.setItem('queue', JSON.stringify([]))\n  mylibWrapper.innerHTML=''\n  if (localStorage.getItem('theme') === 'dark-theme'){\n    darkWrapper.style.display='flex'\n  }else{\n    wraperMyLib.style.display='flex'\n  }\n  \n  \n}"],"names":["$bpxeT","parcelRequire","$7d854cd8b40ceb9e$var$darkWrapper","document","querySelector","$7d854cd8b40ceb9e$var$wraperMyLib","$7d854cd8b40ceb9e$var$queueBtn","$7d854cd8b40ceb9e$var$watchedBtn","$7d854cd8b40ceb9e$var$btnClearAll","$7d854cd8b40ceb9e$var$mylibWrapper","addEventListener","classList","contains","innerHTML","toggle","$bb2af86579234925$export$b99bead8ac476cc4","location","replace","href","$bb2af86579234925$export$2af9531601bc3395","localStorage","setItem","JSON","stringify","getItem","style","display","$bb2af86579234925$var$darkWrapper","$bb2af86579234925$var$wraperMyLib","$bb2af86579234925$var$containerListWatchedCard","$bb2af86579234925$var$dataWatchedCards","parse","$bb2af86579234925$var$dataQueueCards","$bb2af86579234925$var$BASE_URL","$bb2af86579234925$var$API_KEY","$bb2af86579234925$export$428345ef4a1e46a9","nameList","test","concat","length","$bb2af86579234925$var$getWatchedFilms","page","$bb2af86579234925$var$_getWatchedFilms","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","$kvC6y","showPreloader","$dIxxU","default","get","_ctx","sent","hidePreloader","console","log","t0","$bb2af86579234925$var$_onCardWatch","markup","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","idFilm","oneFilmCard","release","mainPoster","genreMarkup","undefined","Symbol","iterator","next","done","value","Number","parseInt","release_date","first_air_date","poster_path","genres","forEach","element","push","name","id","title","join","vote_average","toFixed","return","insertAdjacentHTML","$bb2af86579234925$var$_onCardQueue","$bb2af86579234925$var$button","window","scrollY","scroll","top","left","behavior","$9VC5X","addDarkClassToHTML"],"version":3,"file":"my-library.9894b8c3.js.map"}