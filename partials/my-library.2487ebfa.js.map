{"mappings":"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","sources":["src/js/my-library.js","src/js/buttons-my-library.js"],"sourcesContent":["import axios from 'axios';\nimport {onClickWatchedBtn, onClickQueueBtn, onClickClearAll } from './buttons-my-library';\nimport { genres } from './genres';\nimport { clickOnFilmCard } from './film-modal';\nimport { getVideoInfo } from './trailer';\nimport { showPreloader, hidePreloader } from './loader';\n\nconst wraperMyLib = document.querySelector('.empty-wrapper')\nconst containerListWatchedCard = document.querySelector('.film-list');\nconst dataWatchedCards = JSON.parse(localStorage.getItem('wathced'));\nconst dataQueueCards = JSON.parse(localStorage.getItem('queue'));\nconst BASE_URL = 'https://api.themoviedb.org/3/movie/';\nconst API_KEY = '352708f90836dd2b75b209ae082e91df';\n\n// const queueButton = document.getElementById('queue');\nhidePreloader();\n\nfunction statusWraper(nameList){\n  const test = JSON.parse(localStorage.getItem(`${nameList}`))\n  console.log(test)\n  if(!localStorage.getItem(`${nameList}`) || test.length<1){\n    wraperMyLib.style.display='flex'\n  }else{\n    wraperMyLib.style.display='none'\n  }\n}\n\nasync function getWatchedFilms(page) {\n  try {\n    showPreloader();\n    const { data } = await axios.get(\n      `${BASE_URL}${page}?api_key=${API_KEY}&language=en-US`\n    );\n    hidePreloader();\n    return data;\n  } catch (error) {\n    console.log(error);\n  } \n}\n\nonCardWatch();\n\nexport async function onCardWatch() {\n  containerListWatchedCard.innerHTML = '';\n  statusWraper('wathced');\n  \n  for (const idFilm of dataWatchedCards) {\n    let markup = '';\n    const oneFilmCard = await getWatchedFilms(idFilm);\n    let release = Number.parseInt(oneFilmCard.release_date || oneFilmCard.first_air_date);\n    const mainPoster = `https://image.tmdb.org/t/p/w300${oneFilmCard.poster_path}`;\n    const posterFake = `https://shop-cdn1.vigbo.tech/shops/48947/products/18863233/images/2-be392e7cfe9a0fa843b29c1e22be8909.jpg`;\n    let genreMarkup = [];\n\n    oneFilmCard.genres.forEach(element => {\n      genreMarkup.push(element.name)\n    });\n\n    markup += ` <li class =\"film-item\">\n                <a id='${oneFilmCard.id}' class=\"film-card\" href=\"#\">\n                  <div class='thumb'>\n                  <img\n                      class = 'poster'\n                      src= \"${\n                        oneFilmCard.poster_path ? mainPoster : posterFake\n                      }\"\n                      alt=\"${oneFilmCard.title}\"\n                      loading=\"lazy\"\n                    /></div>\n                    <div class='film-data'>\n                      <h2 class=\"title-film\">${oneFilmCard.title}</h2>\n                      <p>\n                        <span class='info-film'>${genreMarkup.join(', ')} | ${release}</span>\n                        <span class =\"rating\">IMDB:<br>${oneFilmCard.vote_average.toFixed(1)}</span>\n                      </p>\n                    </div>\n                  </a>\n              </li>`;\n\n    containerListWatchedCard.insertAdjacentHTML('beforeend', markup);\n  }\n}\n\nexport async function onCardQueue() {\n  containerListWatchedCard.innerHTML = '';\n  statusWraper('queue');\n  \n  for (const idFilm of dataQueueCards) {\n    let markup = '';\n    const oneFilmCard = await getWatchedFilms(idFilm);\n    let release = Number.parseInt(oneFilmCard.release_date || oneFilmCard.first_air_date);\n    const mainPoster = `https://image.tmdb.org/t/p/w300${oneFilmCard.poster_path}`;\n    const posterFake = `https://shop-cdn1.vigbo.tech/shops/48947/products/18863233/images/2-be392e7cfe9a0fa843b29c1e22be8909.jpg`;\n    let genreMarkup = [];\n\n    oneFilmCard.genres.forEach(element => {\n      genreMarkup.push(element.name)\n    });\n    \n    markup += ` <li class =\"film-item\">\n              <a id='${oneFilmCard.id}' class=\"film-card\" href=\"#\">\n                <div class='thumb'>\n                <img\n                    class = 'poster'\n                    src= \"${oneFilmCard.poster_path ? mainPoster : posterFake}\"\n                    alt=\"${oneFilmCard.title}\"\n                    loading=\"lazy\"\n                  /></div>\n                  <div class='film-data'>\n                    <h2 class=\"title-film\">${oneFilmCard.title}</h2>\n                    <p>\n                      <span class='info-film'>${genreMarkup.join(', ')} | ${release}</span>\n                      <span class =\"rating\">IMDB:<br>${oneFilmCard.vote_average.toFixed(1)}</span>\n                    </p>\n                  </div>\n                </a>\n            </li>`;\n\n    containerListWatchedCard.insertAdjacentHTML('beforeend', markup);\n  }\n}\n\n// Scroll to top\nconst button = document.querySelector('.btn-scroll');\n\nconst displayButton = () => {\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 100) {\n      button.style.display = 'block';\n    } else {\n      button.style.display = 'none';\n    }\n  });\n};\n\nconst scrollToTop = () => {\n  button.addEventListener('click', () => {\n    window.scroll({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  });\n};\n\ndisplayButton();\nscrollToTop();\n\n\n\n","import { onCardWatch, onCardQueue } from \"./my-library\";\n\nconst wraperMyLib = document.querySelector('.empty-wrapper')\nconst queueBtn= document.querySelector('.secondary')\nconst watchedBtn= document.querySelector('.lib-btn.current')\nconst btnClearAll = document.querySelector('.btn-clear-all')\nconst mylibWrapper = document.querySelector('.film-list')\n\nwatchedBtn.addEventListener('click', onClickWatchedBtn)\nqueueBtn.addEventListener('click', onClickQueueBtn)\nbtnClearAll.addEventListener('click', onClickClearAll)\n\n\nexport function onClickWatchedBtn(){\n  if(watchedBtn.classList.contains('current')){return}\n  mylibWrapper.innerHTML=''\n  \n  queueBtn.classList.toggle('current')\n  watchedBtn.classList.toggle('current')\n  \n  onCardWatch()\n  // location.replace(location.href)\n}\n\n\nexport function onClickQueueBtn(){\n  if(queueBtn.classList.contains('current')){return}\n  mylibWrapper.innerHTML=''\n\n  queueBtn.classList.toggle('current')\n  watchedBtn.classList.toggle('current')\n\n  onCardQueue()\n  // location.replace(location.href)\n}\n\n\nexport function onClickClearAll() {\n  if(watchedBtn.classList.contains('current')){\n    localStorage.removeItem('wathced')\n    mylibWrapper.innerHTML=''\n    wraperMyLib.style.display='flex'\n  return}\n  localStorage.removeItem('queue')\n  mylibWrapper.innerHTML=''\n  wraperMyLib.style.display='flex'\n  \n}"],"names":["$2shzp","parcelRequire","$7744079a8aeaa033$var$wraperMyLib","document","querySelector","$7744079a8aeaa033$var$queueBtn","$7744079a8aeaa033$var$watchedBtn","$7744079a8aeaa033$var$btnClearAll","$7744079a8aeaa033$var$mylibWrapper","addEventListener","classList","contains","innerHTML","toggle","$085d2f9f3e302aeb$export$b99bead8ac476cc4","$085d2f9f3e302aeb$export$2af9531601bc3395","localStorage","removeItem","style","display","$085d2f9f3e302aeb$var$wraperMyLib","$085d2f9f3e302aeb$var$containerListWatchedCard","$085d2f9f3e302aeb$var$dataWatchedCards","JSON","parse","getItem","$085d2f9f3e302aeb$var$dataQueueCards","$085d2f9f3e302aeb$var$statusWraper","nameList","test","console","log","length","async","$085d2f9f3e302aeb$var$getWatchedFilms","page","$gjiCh","showPreloader","data","default","get","hidePreloader","error","idFilm","markup","oneFilmCard","release","Number","parseInt","release_date","first_air_date","mainPoster","poster_path","posterFake","genreMarkup","genres","forEach","element","push","name","id","title","join","vote_average","toFixed","insertAdjacentHTML","$085d2f9f3e302aeb$var$button","window","scrollY","scroll","top","left","behavior"],"version":3,"file":"my-library.2487ebfa.js.map"}